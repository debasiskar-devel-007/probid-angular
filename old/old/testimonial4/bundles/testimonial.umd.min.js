!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs/operators"),require("ngx-cookie-service"),require("@ckeditor/ckeditor5-build-classic"),require("@angular/core"),require("@angular/cdk/a11y"),require("@angular/cdk/drag-drop"),require("@angular/cdk/portal"),require("@angular/cdk/scrolling"),require("@angular/cdk/stepper"),require("@angular/cdk/table"),require("@angular/cdk/tree"),require("@angular/material/autocomplete"),require("@angular/material/badge"),require("@angular/material/bottom-sheet"),require("@angular/material/button"),require("@angular/material/button-toggle"),require("@angular/material/card"),require("@angular/material/checkbox"),require("@angular/material/chips"),require("@angular/material/stepper"),require("@angular/material/datepicker"),require("@angular/material/dialog"),require("@angular/material/divider"),require("@angular/material/expansion"),require("@angular/material/grid-list"),require("@angular/material/icon"),require("@angular/material/input"),require("@angular/material/list"),require("@angular/material/menu"),require("@angular/material/core"),require("@angular/material/paginator"),require("@angular/material/progress-bar"),require("@angular/material/progress-spinner"),require("@angular/material/radio"),require("@angular/material/select"),require("@angular/material/sidenav"),require("@angular/material/slider"),require("@angular/material/slide-toggle"),require("@angular/material/snack-bar"),require("@angular/material/sort"),require("@angular/material/table"),require("@angular/material/tabs"),require("@angular/material/toolbar"),require("@angular/material/tooltip"),require("@angular/material/tree"),require("@ckeditor/ckeditor5-angular"),require("@angular/common/http"),require("@angular/router"),require("@angular/forms"),require("@angular/common"),require("@angular/platform-browser"),require("lib-listing")):"function"==typeof define&&define.amd?define("testimonial",["exports","rxjs/operators","ngx-cookie-service","@ckeditor/ckeditor5-build-classic","@angular/core","@angular/cdk/a11y","@angular/cdk/drag-drop","@angular/cdk/portal","@angular/cdk/scrolling","@angular/cdk/stepper","@angular/cdk/table","@angular/cdk/tree","@angular/material/autocomplete","@angular/material/badge","@angular/material/bottom-sheet","@angular/material/button","@angular/material/button-toggle","@angular/material/card","@angular/material/checkbox","@angular/material/chips","@angular/material/stepper","@angular/material/datepicker","@angular/material/dialog","@angular/material/divider","@angular/material/expansion","@angular/material/grid-list","@angular/material/icon","@angular/material/input","@angular/material/list","@angular/material/menu","@angular/material/core","@angular/material/paginator","@angular/material/progress-bar","@angular/material/progress-spinner","@angular/material/radio","@angular/material/select","@angular/material/sidenav","@angular/material/slider","@angular/material/slide-toggle","@angular/material/snack-bar","@angular/material/sort","@angular/material/table","@angular/material/tabs","@angular/material/toolbar","@angular/material/tooltip","@angular/material/tree","@ckeditor/ckeditor5-angular","@angular/common/http","@angular/router","@angular/forms","@angular/common","@angular/platform-browser","lib-listing"],e):e(t.testimonial={},t.rxjs.operators,t.i2,t.ClassicEditor,t.ng.core,t.ng.cdk.a11y,t.ng.cdk["drag-drop"],t.ng.cdk.portal,t.ng.cdk.scrolling,t.ng.cdk.stepper,t.ng.cdk.table,t.ng.cdk.tree,t.ng.material.autocomplete,t.ng.material.badge,t.ng.material["bottom-sheet"],t.ng.material.button,t.ng.material["button-toggle"],t.ng.material.card,t.ng.material.checkbox,t.ng.material.chips,t.ng.material.stepper,t.ng.material.datepicker,t.ng.material.dialog,t.ng.material.divider,t.ng.material.expansion,t.ng.material["grid-list"],t.ng.material.icon,t.ng.material.input,t.ng.material.list,t.ng.material.menu,t.ng.material.core,t.ng.material.paginator,t.ng.material["progress-bar"],t.ng.material["progress-spinner"],t.ng.material.radio,t.ng.material.select,t.ng.material.sidenav,t.ng.material.slider,t.ng.material["slide-toggle"],t.ng.material["snack-bar"],t.ng.material.sort,t.ng.material.table,t.ng.material.tabs,t.ng.material.toolbar,t.ng.material.tooltip,t.ng.material.tree,t.ckeditor5Angular,t.ng.common.http,t.ng.router,t.ng.forms,t.ng.common,t.ng.platformBrowser,t.libListing)}(this,function(t,r,e,i,a,n,o,l,s,u,m,d,c,p,g,f,h,b,y,M,k,x,v,q,C,S,T,w,D,_,F,I,j,N,U,A,E,H,P,B,L,O,R,z,J,V,G,K,W,$,Q,X,Y){"use strict";var Z=(tt.prototype.isTokenExpired=function(){},tt.prototype.addData=function(t,e){var a={headers:new K.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+t,JSON.stringify(e),a).pipe(r.map(function(t){return t}))},tt.prototype.UpdateData=function(t,e){var a={headers:new K.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+t,JSON.stringify(e),a).pipe(r.map(function(t){return t}))},tt.prototype.getData=function(t,e){var a={headers:new K.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+t,JSON.stringify(e),a).pipe(r.map(function(t){return t}))},tt.prototype.deleteSingleData=function(t,e){var a={headers:new K.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+t,JSON.stringify(e),a).pipe(r.map(function(t){return t}))},tt.prototype.deleteMultipleData=function(t,e){var a={headers:new K.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+t,JSON.stringify(e),a).pipe(r.map(function(t){return t}))},tt.prototype.UpdateStatusForSingleData=function(t,e){var a={headers:new K.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+t,JSON.stringify(e),a).pipe(r.map(function(t){return t}))},tt.prototype.UpdateStatusForMultipleData=function(t,e){var a={headers:new K.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+t+"many",JSON.stringify(e),a).pipe(r.map(function(t){return t}))},tt.prototype.CustomRequest=function(t,e){var a={headers:new K.HttpHeaders({"Content-Type":"application/json",Authorization:this.accesstoken})};return this._http.post(this.serverUrl+t,JSON.stringify(e),a).pipe(r.map(function(t){return t}))},tt.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],tt.ctorParameters=function(){return[{type:K.HttpClient},{type:K.HttpClient},{type:e.CookieService}]},tt.ngInjectableDef=a.defineInjectable({factory:function(){return new tt(a.inject(K.HttpClient),a.inject(K.HttpClient),a.inject(e.CookieService))},token:tt,providedIn:"root"}),tt);function tt(t,e,a){this._http=t,this._authHttp=e,this.cookieService=a,this.progress=[],this.uploaderror="",this.accesstoken=this.cookieService.get("jwtToken"),this.fileservername=[],this.serverUrl="",this.getdata_endpointUrl="datalist"}var et=(Object.defineProperty(at.prototype,"config",{set:function(t){this.testimonialListConfig={apiUrl:t.apiBaseUrl,listEndPoint:"datalist",datasource:t.datasource,tableName:t.tableName,listArray_skip:["_id","userId","created_at","id","updated_at"],listArray_modify_header:{name:"Customer/User Name",email:"Customer/User Email",testimonial:"Testimonial",priority:"Priority",status:"Status"},admintablenameTableName:"admin",statusarr:[{val:1,name:"Active"},{val:0,name:"Inactive"}],updateurl:t.updateEndpoint,editUrl:t.editUrl,jwtToken:t.jwtToken,deleteEndPoint:t.deleteEndPoint,view:t.view,search_settings:{textsearch:[{label:"customer name...",field:"name"},{label:"customer email...",field:"email"},{label:"status...",field:"status"}]}},this.loader=!1},enumerable:!0,configurable:!0}),at.prototype.ngOnInit=function(){},at.decorators=[{type:a.Component,args:[{selector:"lib-testimonial",template:'<mat-card *ngIf="loader==true">\n        <mat-spinner class="spinner"></mat-spinner>\n    </mat-card>\n    \n    \n    \n    \x3c!-- ------------------------lib listing being called------------------------ --\x3e\n    <mat-card *ngIf="loader==false">\n        <lib-listing class="formfilterdiv"\n            *ngIf="testimonialListConfig.datasource !=null && testimonialListConfig.datasource.length > 0"\n            [datasource]="testimonialListConfig.datasource" [skip]="testimonialListConfig.listArray_skip"\n            [modify_header_array]="testimonialListConfig.listArray_modify_header" [sourcedata]="testimonialListConfig.tableName"\n            [statusarr]="testimonialListConfig.statusarr" [jwttoken]="testimonialListConfig.jwtToken"\n            [apiurl]="testimonialListConfig.apiUrl" [editroute]="testimonialListConfig.editUrl"\n            [deleteendpoint]="testimonialListConfig.deleteEndPoint"\n            [date_search_source]="testimonialListConfig.view"\n           [date_search_endpoint]="testimonialListConfig.listEndPoint"\n           [search_settings]="testimonialListConfig.search_settings">\n        </lib-listing>\n    \x3c!-- -----------------------------------------------------------------------------\x3e\n    \n        <h2 *ngIf="testimonialListConfig.datasource.length == 0">No record found.</h2>\n    </mat-card>',styles:[".addbtn{display:block;width:170px;margin:10px;background:#3f50b5!important;color:#fff;float:right}.btnwrapper{display:flex;justify-content:flex-end}"]}]}],at.ctorParameters=function(){return[]},at.propDecorators={config:[{type:a.Input}]},at);function at(){this.loader=!0}var rt=(it.prototype.ngOnInit=function(){switch(this.loader=!1,this.generateForm(),this.configData.action){case"add":this.buttonText="SUBMIT";break;case"edit":this.buttonText="UPDATE",this.successMessage="One row updated",this.setDefaultValue(this.configData.defaultData)}},Object.defineProperty(it.prototype,"config",{set:function(t){this.configData=t},enumerable:!0,configurable:!0}),it.prototype.generateForm=function(){this.testimonialForm=this.formBuilder.group({name:["",[$.Validators.required]],email:["",[$.Validators.required,$.Validators.pattern(/^\s*[\w\-\+_]+(\.[\w\-\+_]+)*\@[\w\-\+_]+\.[\w\-\+_]+(\.[\w\-\+_]+)*\s*$/)]],testimonial:["",[$.Validators.required]],priority:["",$.Validators.required],status:[!0],userId:[this.configData.userData.id,null]})},it.prototype.onSubmit=function(){var e=this;if(this.testimonialForm.controls.testimonial.markAsTouched(),this.loader=!0,!this.testimonialForm.invalid){this.testimonialForm.value.status?this.testimonialForm.value.status=parseInt("1"):this.testimonialForm.value.status=parseInt("0");var t={source:this.configData.source,data:Object.assign(this.testimonialForm.value,this.configData.condition)};this.testiService.addData(this.configData.endpoint,t).subscribe(function(t){"success"==t.status?(e.openDialog(e.successMessage),setTimeout(function(){e.dialogRef.close()},2e3),e.router.navigate([e.configData.callBack])):alert("Some error occurred. Please try angain.")},function(t){alert("Some error occurred. Please try angain.")})}},it.prototype.setDefaultValue=function(t){this.testimonialForm.setValue({name:t.name,email:t.email,testimonial:t.testimonial,priority:t.priority,status:t.status,userId:null})},it.prototype.openDialog=function(t){this.dialogRef=this.dialog.open(nt,{width:"250px",data:{msg:t}}),this.dialogRef.afterClosed().subscribe(function(t){})},it.prototype.inputBlur=function(t){this.testimonialForm.controls[t].markAsUntouched()},it.decorators=[{type:a.Component,args:[{selector:"lib-addedit",template:'<mat-card>\n  <mat-toolbar color="primary" style="justify-content: center; align-items: center;">\n    <h2 class="headerSpan">Add Testimonials</h2>\n  </mat-toolbar>\n  <span class="formspan">\n    <mat-card-content class="example-container">\n\n\n      \x3c!-- ---------------------------------FORM BEGINS--------------------------- --\x3e\n      <form [formGroup]="testimonialForm" autocomplete="off" (ngSubmit)="onSubmit()">\n\n\n\n        \x3c!-- -----------------------------------customer username---------------------------- --\x3e\n        <mat-form-field>\n          <mat-label>Customer/User Name:</mat-label>\n          <input matInput type="text" formControlName="name"  (blur)="inputBlur(\'name\')">\n          <mat-error *ngIf="testimonialForm.controls[\'name\']?.touched || testimonialForm.controls[\'name\'].errors \n          && testimonialForm.controls[\'name\'].errors.required">Name is required.</mat-error>\n        </mat-form-field><br>\n        \x3c!-- -------------------------------------------------------------------------------- --\x3e\n\n\n\n\n\n\n        \x3c!-- ----------------------------------------customer email-------------------------- --\x3e\n        <mat-form-field>\n          <mat-label>Customer/User Email:</mat-label>\n          <input matInput type="email" formControlName="email"  (blur)="inputBlur(\'email\')">\n          <mat-error *ngIf="testimonialForm.controls[\'email\']?.touched || testimonialForm.controls[\'email\'].errors \n          && testimonialForm.controls[\'email\'].errors.required">Email is required.</mat-error>\n          <mat-error  *ngIf="!testimonialForm.controls[\'email\'].valid && !testimonialForm.controls[\'email\'].errors.required">Email is not valid</mat-error>\n        </mat-form-field><br>\n        \x3c!-- -------------------------------------------------------------------------------- --\x3e\n\n\n\n\n\n        \x3c!-- ----------------------------------testimonial----------------------------------- --\x3e\n        <ckeditor [editor]="Editor" [config]="editorConfig" formControlName="testimonial"  (blur)="inputBlur(\'testimonial\')"></ckeditor>\n        <mat-error *ngIf="testimonialForm.controls[\'testimonial\']?.touched || testimonialForm.controls[\'testimonial\']?.touched && testimonialForm.controls[\'testimonial\'].errors \n          && testimonialForm.controls[\'testimonial\'].errors.required">Please write a testimonial.</mat-error>\n        <br>\n        \x3c!-- -------------------------------------------------------------------------------- --\x3e\n\n\n\n\n\n\n        \x3c!-- ------------------------------------------priority------------------------------ --\x3e\n        <mat-form-field>\n          <mat-label>Priority:</mat-label>\n          <input matInput type="number" formControlName="priority"  (blur)="inputBlur(\'priority\')">\n          <mat-error *ngIf="testimonialForm.controls[\'priority\']?.touched || testimonialForm.controls[\'priority\'].errors \n          && testimonialForm.controls[\'priority\'].errors.required">Priority is required.</mat-error>\n        </mat-form-field><br>\n        \x3c!-- -------------------------------------------------------------------------------- --\x3e\n\n\n\n\n\n\n        \x3c!-- ----------------------------------------status---------------------------------- --\x3e\n        <mat-label>Status:</mat-label><br>\n        <mat-checkbox color="primary" formControlName="status">Active</mat-checkbox><br>\n        \x3c!-- -------------------------------------------------------------------------------  --\x3e\n\n\n\n\n        <button type="submit" class="submitbtn" class="submitbtn" mat-raised-button color="primary">{{buttonText}}</button>\n        <button type="reset" class="submitbtn" class="submitbtn" mat-raised-button color="primary">RESET</button>\n\n\n\n\n      </form>\n      \x3c!-- ---------------------------------------FORM ENDS HERE----------------------------- --\x3e\n    </mat-card-content>\n  </span>\n</mat-card>',styles:[".example-container{display:flex;flex-direction:column}.example-container>*{width:100%}.main-class .submitbtn{display:block;width:170px;margin:10px auto;background:#3f50b5!important;color:#fff}.main-class .material-icons{cursor:pointer}.formspan{background-color:#e7e9ea;border:6px solid #fff;border-bottom:10px solid #fff;display:inline-block;width:100%;position:relative;z-index:9}.formspan .example-container{display:flex;flex-direction:column;width:98%;padding:14px;margin-bottom:0}.formspan .form-field-span,.formspan .mat-form-field{display:inline-block;position:relative;text-align:left;width:98%;background:#fff;margin-bottom:9px;padding:1px 14px}.formspan .form-field-span .mat-checkbox,.formspan .form-field-span .mat-radio-button{padding-right:15px;padding-bottom:15px;display:inline-block}.formspan .mat-form-field-wrapper{padding-bottom:0!important}.form-field-span .mat-error{font-size:13px!important}.mat-error{color:#f44336;font-size:13px!important}button.submitbtn.mat-raised-button.mat-primary{margin-right:15px}"]}]}],it.ctorParameters=function(){return[{type:$.FormBuilder},{type:Z},{type:W.Router},{type:v.MatDialog}]},it.propDecorators={config:[{type:a.Input}]},it);function it(t,e,a,r){this.formBuilder=t,this.testiService=e,this.router=a,this.dialog=r,this.Editor=i,this.editorConfig={placeholder:"Write testimonial..."},this.model={editorData:""},this.buttonText="SUBMIT",this.loader=!1,this.successMessage="Submitted Successfully"}var nt=(ot.prototype.onNoClick=function(){this.dialogRef.close()},ot.decorators=[{type:a.Component,args:[{selector:"app-modal",template:"<h1 mat-dialog-title>MESSAGE</h1>\n<div mat-dialog-content>\n   <p>{{ data.msg }}</p>\n</div>\n\n"}]}],ot.ctorParameters=function(){return[{type:v.MatDialogRef},{type:undefined,decorators:[{type:a.Inject,args:[v.MAT_DIALOG_DATA]}]}]},ot);function ot(t,e){this.dialogRef=t,this.data=e}var lt=(st.decorators=[{type:a.NgModule,args:[{exports:[n.A11yModule,u.CdkStepperModule,m.CdkTableModule,d.CdkTreeModule,o.DragDropModule,c.MatAutocompleteModule,p.MatBadgeModule,g.MatBottomSheetModule,f.MatButtonModule,h.MatButtonToggleModule,b.MatCardModule,y.MatCheckboxModule,M.MatChipsModule,k.MatStepperModule,x.MatDatepickerModule,v.MatDialogModule,q.MatDividerModule,C.MatExpansionModule,S.MatGridListModule,T.MatIconModule,w.MatInputModule,D.MatListModule,_.MatMenuModule,F.MatNativeDateModule,I.MatPaginatorModule,j.MatProgressBarModule,N.MatProgressSpinnerModule,U.MatRadioModule,F.MatRippleModule,A.MatSelectModule,E.MatSidenavModule,H.MatSliderModule,P.MatSlideToggleModule,B.MatSnackBarModule,L.MatSortModule,O.MatTableModule,R.MatTabsModule,z.MatToolbarModule,J.MatTooltipModule,V.MatTreeModule,l.PortalModule,s.ScrollingModule]}]}],st);function st(){}var ut=(mt.decorators=[{type:a.NgModule,args:[{declarations:[et,rt,nt],imports:[lt,G.CKEditorModule,K.HttpClientModule,W.RouterModule,$.FormsModule,$.ReactiveFormsModule,Q.CommonModule,X.BrowserModule,Y.ListingModule],exports:[et,rt],entryComponents:[nt]}]}],mt);function mt(){}t.TestimonialService=Z,t.TestimonialComponent=et,t.TestimonialModule=ut,t.ɵa=rt,t.ɵb=nt,t.ɵc=lt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=testimonial.umd.min.js.map